---
title: Surface Hub での Miracast のトラブルシューティング
description: Surface Hub で Miracast の問題を解決する方法について説明します。
ms.prod: surface-hub
ms.sitesec: library
author: dansimp
ms.author: dansimp
ms.topic: article
ms.date: 06/20/2019
ms.reviewer: ''
manager: laurawi
ms.localizationpriority: medium
ms.openlocfilehash: 96c7c42fe0176f275a8657165d88bf447e57772b
ms.sourcegitcommit: 109d1d7608ac4667564fa5369e8722e569b8ea36
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2020
ms.locfileid: "10836948"
---
# Surface Hub での Miracast のトラブルシューティング

Surface Hub では、Miracast プロトコルを使ってワイヤレス プロジェクションをサポートします。 現在入手できる多くのワイヤレス モニターおよびアダプターでは、Miracast の本来の実装を使用します。 Surface Hub では、**Miracast Autonomous Group Owner (AGO)** と呼ばれる、若干異なるバージョンの Miracast を使用します。 Surface Hub へのワイヤレス プロジェクションが失敗した場合の一般的なトラブルシューティングの手順は、別のワイヤレス モニターまたはアダプターへのプロジェクションをテストすることです。 ただし、ほとんどの場合、これらのデバイスは Miracast AGO を使用しておらず、Surface Hub と同じ方法でワイヤレス プロジェクションを処理するわけではありません。

従来の Miracast では、プロジェクション元デバイスが Miracast に対応したモニターによって設定されたアクセス ポイントに接続した後、モニターが、プロジェクション元デバイスのネットワーク チャネルを使用して、プロジェクション元デバイスにトラフィックを送信します。 Miracast AGO は 2 段階の接続プロセスです。

- 最初の手順は、2.4 GHz を使用した初期接続です。 
- 最初のハンドシェイクの後で、プロジェクション元デバイスは、モニターのワイヤレス チャネルの設定を使用して、モニターにトラフィックを送信します。 Surface Hub が Wi‑Fi ネットワーク (アクセス ポイント) に接続されている場合は、接続されたネットワークと同じチャネルが使用されます。それ以外の場合は、設定で指定されている Miracast チャネルが使用されます。

Surface Hub への Miracast の問題には、通常 2 つの種類があります。[接続](#connect-issues)と[パフォーマンス](#performance-issues)の問題です。 どちらの場合も、Surface Hub の場所でのワイヤレスネットワークアクティビティの一般的な画像を取得することをお勧めします。 ネットワーク スキャン ツールを実行すると、環境内で使用可能なネットワークとチャネルの使用状況が示されます。

## 接続の問題

Surface Hub の設定で、Wi‑Fi と Miracast の両方が有効になっていることを確認します。 

ネットワークのスキャンを実行した場合、Surface Hub Miracast がアクセス ポイントとして一覧に表示されます。 Surface Hub の Miracast ネットワークはスキャン時に表示されますが、利用可能なデバイスとして表示されない場合は、Surface Hub で使用される Miracast チャネルを調整してみてください。 

Surface Hub が Wi‑Fi ネットワークに接続されている場合、Surface Hub は Wi-Fi アクセス ポイントと同じチャネル設定を Miracast アクセス ポイントに使用します。 トラブルシューティングのため、Surface Hub をすべての Wi‑Fi ネットワークから切断して (ただし、Wi‑Fi は有効にしたままで)、Miracast で使用するチャネルを制御できるようにします。 設定で、Miracast チャネルを手動で選択することができます。 変更するたびに Surface Hub を再起動する必要があります。 一般的に、ネットワーク スキャンで使用率が高くないチャネルを使用します。

また、接続の問題は、接続されているデバイスの問題が原因で発生する可能性があります。 プロジェクション元デバイスが Windows を実行している場合、Miracast を完全にサポートするには Windows 8.1 以降である必要があります。 繰り返しますが、トラブルシューティングのために、すべての Wi‑Fi ネットワークからプロジェクション元デバイスを切断してください。 これにより、アクセス ポイント チャネルと、Surface Hub で設定された Miracast チャネルとのチャネル切り替えがなくなります。 また、一部のグループ ポリシーとファイアウォールの設定が、Wi‑Fi ネットワークに関連付けられている可能性があります。

### ドライバーの確認

また、プロジェクション元デバイスに、最新のドライバーと更新プログラムがインストールされていることを確認することもお勧めします。 デバイス マネージャーで、Wi-Fi アダプターとビデオ アダプターを開き、更新されたドライバーのバージョンを確認します。 Surface Pro 3 や Surface Pro 4 で古い Wi-Fi ドライバーを使用している場合、[修正プログラム 3120232](https://support.microsoft.com/help/3120232/poor-wireless-performance-on-5-ghz-connections-on-surface-pro-3-and-surface-3) を適用することを強くお勧めします。 

### Miracast のサポートの確認

次に、デバイスで Miracast がサポートされていることを確認します。 

1. Windows + R キーを押して「`dxdiag`」と入力します。 
2. [情報をすべて保存] をクリックします。 
3. 保存した dxdiag.txt を開き、**Miracast** を検索します。 "**Available, with HDCP**" と表示されることを確認します。 
    
### ファイアウォールの確認
    
Windows ファイアウォールが、Miracast のトラフィックをブロックする場合があります。 最も簡単なテストは、ファイアウォールを無効にし、プロジェクションをテストします。 ファイアウォールが無効にすると Miracast が動作する場合は、例外を追加します。

    C:\Windows\System32\WUDFHost.exe
    Allow In/Out connections for TCP and UDP, Ports: All.

### グループ ポリシー設定の確認

ドメインに参加しているデバイスでは、グループ ポリシーが Miracast をブロックする場合もあります。 

1. Windows + R キーを押し、「`rsop.msc`」と入力して、を実行する、**ポリシーの結果セット** スナップインを実行します。 これにより、PC に適用されている現在のポリシーが表示されます。 
2. **[コンピュータの構成]** > **[Windows の設定]** > **[セキュリティの設定]** > **[ワイヤレス ネットワーク (IEEE 802.11) ポリシー]** を確認します。 ワイヤレス ポリシーの設定が表示されます。 
3. ワイヤレス ポリシーの設定をダブルクリックすると、ダイアログ ボックスが表示されます。 
4. **[ネットワークのアクセス許可]** タブを開き、**[すべてのユーザー プロファイルをすべてのユーザーが作成できる]** を選択します。

### イベント ログの確認

確認する最後の場所はイベント ログ内です。 Miracast イベントは、**Wlanautoconfig** に記録されます。 これは Surface Hub とプロジェクション元デバイスの両方に当てはまります。 Surface Hub のログをエクスポートする場合は、Surface Hub の Wlanautoconfig を**WindowsEventLog**フォルダーに表示することができます。 イベント ログ内のエラーが、接続が失敗した場所に関する追加の詳細情報を提供している場合があります。

## パフォーマンスの問題

ワイヤレス プロジェクションが接続された後、パフォーマンスの問題によって遅延が発生する可能性があります。 通常、これは、全体的なチャネル飽和状態またはチャネルの切り替えの原因となる状況による結果です。 

チャネルの飽和状態の場合は、ネットワーク スキャンを参照して、トラフィックが少ないチャネルを使用してみます。

チャネルの切り替えは、Wi-Fi アダプターが複数のチャネルにトラフィックを送信する必要がある場合に発生します。 特定のチャンネルは、Dynamic Frequency Selection (DFS) をサポートします。 DFS はチャネル 49 ～ 148 で使用されます。 一部の Wi‑Fi ドライバーでは、DFS チャネルに接続されているときにパフォーマンスが低下します。 DFS チャネルに接続しているときに Miracast パフォーマンスが低下した場合は、DFS 以外のチャネルでプロジェクションを試してください。 Surface Hub とプロジェクション元デバイスの両方で、非 DFS チャネルを使用する必要があります。

Surface Hub とプロジェクション元デバイスがどちらも Wi‑Fi に接続されているが、異なるアクセス ポイントと異なるチャネルを使用している場合、これにより、Miracast が接続されている間に、Surface Hub やプロジェクション元デバイスで強制的にチャネル切り替えが行われます。 このため、ワイヤレス プロジェクションのパフォーマンスと Wi-Fi 経由のネットワーク パフォーマンスが低下します。 チャネル切り替えは、ワイヤレス プロジェクションだけではなく、すべてのワイヤレス トラフィックのパフォーマンスに影響します。 

チャネル切り替えは、プロジェクション元デバイスが、Surface Hub で Miracast 用に使用するチャネルとは異なるチャネルを使用して Wi-Fi ネットワークに接続されている場合にも発生します。 したがって、ベストプラクティスとしては、最もよく使用するアクセスポイントと同じチャネルに Surface Hub の Miracast チャネルを設定することをお勧めします。 

環境に複数の Wi-Fi ネットワークまたはアクセス ポイントがある場合、一部のチャネル切り替えは回避できません。 これは、すべての Wi-Fi ドライバーを最新の状態にすることで適切に修正されます。

## サポートに問い合わせ

質問がある場合やヘルプが必要な場合は、[サポートリクエストを作成](https://support.microsoft.com/supportforbusiness/productselection)できます。
